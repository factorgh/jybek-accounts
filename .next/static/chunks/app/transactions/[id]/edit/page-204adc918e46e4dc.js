(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[142],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:o="",children:d,...u},m)=>(0,r.createElement)("svg",{ref:m,...a,width:i,height:i,stroke:s,strokeWidth:l?24*Number(c)/Number(i):c,className:["lucide",`lucide-${n(e)}`,o].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8203:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1298:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},6666:function(e,t,s){Promise.resolve().then(s.bind(s,9561))},9561:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),a=s(2265),n=s(4033),i=s(1396),c=s.n(i),l=s(575),o=s(5671),d=s(3067),u=s(6637),m=s(1298),x=s(6245),h=s(8203);function f(e){let{params:t}=e,s=(0,n.useRouter)(),[i,f]=(0,a.useState)(null),[p,y]=(0,a.useState)({transactionNumber:"",transactionDate:"",description:"",reference:"",type:"expense",totalAmount:0,status:"draft"}),[g,j]=(0,a.useState)(!0),[b,N]=(0,a.useState)(!1),[v,w]=(0,a.useState)("");(0,a.useEffect)(()=>{k()},[t.id]);let k=async()=>{try{let e=await fetch("/api/transactions/".concat(t.id));if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let s=await e.json();s.success?(f(s.data),y({transactionNumber:s.data.transactionNumber,transactionDate:s.data.transactionDate,description:s.data.description,reference:s.data.reference||"",type:s.data.type,totalAmount:s.data.totalAmount,status:s.data.status})):w("Failed to fetch transaction")}catch(e){w(e instanceof Error?e.message:"An error occurred")}finally{j(!1)}},Z=e=>{let{name:t,value:s,type:r}=e.target;y(e=>({...e,[t]:"number"===r?parseFloat(s)||0:s}))},T=async e=>{e.preventDefault(),N(!0),w("");try{let e=await fetch("/api/transactions/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));(await e.json()).success?(alert("Transaction updated successfully!"),s.push("/transactions/".concat(t.id))):w("Failed to update transaction")}catch(e){w(e instanceof Error?e.message:"An error occurred")}finally{N(!1)}};return g?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading transaction..."})]})})}):v&&!i?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-600",children:v}),(0,r.jsx)(c(),{href:"/transactions",children:(0,r.jsxs)(l.z,{className:"mt-4",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Transactions"]})})]})})}):i?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)(c(),{href:"/transactions/".concat(t.id),children:(0,r.jsxs)(l.z,{variant:"outline",size:"sm",children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Transaction"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Transaction"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Update transaction information and details"})]}),(0,r.jsx)("form",{onSubmit:T,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[(0,r.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5"}),"Basic Information"]}),(0,r.jsx)(o.SZ,{children:"Update the transaction's basic details"})]}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"transactionNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Number *"}),(0,r.jsx)("input",{type:"text",id:"transactionNumber",name:"transactionNumber",value:p.transactionNumber,onChange:Z,required:!0,placeholder:"e.g., TRX001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"transactionDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Date *"}),(0,r.jsx)("input",{type:"date",id:"transactionDate",name:"transactionDate",value:p.transactionDate,onChange:Z,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,r.jsx)("textarea",{id:"description",name:"description",value:p.description,onChange:Z,required:!0,rows:3,placeholder:"Transaction description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"reference",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reference"}),(0,r.jsx)("input",{type:"text",id:"reference",name:"reference",value:p.reference,onChange:Z,placeholder:"e.g., INV-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[(0,r.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5"}),"Financial Settings"]}),(0,r.jsx)(o.SZ,{children:"Update amount and transaction type"})]}),(0,r.jsxs)(o.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Type *"}),(0,r.jsxs)("select",{id:"type",name:"type",value:p.type,onChange:Z,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"sale",children:"Sale"}),(0,r.jsx)("option",{value:"purchase",children:"Purchase"}),(0,r.jsx)("option",{value:"expense",children:"Expense"}),(0,r.jsx)("option",{value:"payment",children:"Payment"}),(0,r.jsx)("option",{value:"receipt",children:"Receipt"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"totalAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount *"}),(0,r.jsx)("input",{type:"number",id:"totalAmount",name:"totalAmount",value:p.totalAmount,onChange:Z,required:!0,step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,r.jsxs)("select",{id:"status",name:"status",value:p.status,onChange:Z,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"draft",children:"Draft"}),(0,r.jsx)("option",{value:"posted",children:"Posted"}),(0,r.jsx)("option",{value:"void",children:"Void"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.Zb,{children:[(0,r.jsx)(o.Ol,{children:(0,r.jsx)(o.ll,{children:"Actions"})}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(l.z,{type:"submit",disabled:b||!p.transactionNumber||!p.description,className:"w-full",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),b?"Saving...":"Save Changes"]}),(0,r.jsx)(c(),{href:"/transactions/".concat(t.id),children:(0,r.jsx)(l.z,{variant:"outline",className:"w-full",children:"Cancel"})})]})})]}),(0,r.jsxs)(o.Zb,{children:[(0,r.jsx)(o.Ol,{children:(0,r.jsx)(o.ll,{children:"Transaction Information"})}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Transaction ID"})]}),(0,r.jsx)("p",{className:"font-medium",children:t.id}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,r.jsx)("span",{className:"text-gray-600",children:"Created"})]}),(0,r.jsx)("p",{className:"font-medium",children:new Date(i.createdAt).toLocaleDateString()})]})})]})]})]})}),v&&(0,r.jsx)("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:v})})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Transaction Not Found"}),(0,r.jsx)(c(),{href:"/transactions",children:(0,r.jsxs)(l.z,{children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Transactions"]})})]})})})}},575:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(7437),a=s(2265),n=s(7256),i=s(6061),c=s(2169);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:o=!1,...d}=e,u=o?n.g7:"button";return(0,r.jsx)(u,{className:(0,c.cn)(l({variant:a,size:i,className:s})),ref:t,...d})});o.displayName="Button"},5671:function(e,t,s){"use strict";s.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var r=s(7437),a=s(2265),n=s(2169);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},2169:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(7042),a=s(4769);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}},1396:function(e,t,s){e.exports=s(5250)},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[621,250,971,938,744],function(){return e(e.s=6666)}),_N_E=e.O()}]);