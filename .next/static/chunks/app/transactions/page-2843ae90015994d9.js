(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:l,...d},h)=>(0,n.createElement)("svg",{ref:h,...s,width:c,height:c,stroke:r,strokeWidth:o?24*Number(i)/Number(c):i,className:["lucide",`lucide-${a(e)}`,u].join(" "),...d},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r}},3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9670:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2482:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9883:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2601:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(8960)},3178:function(e,t,r){Promise.resolve().then(r.bind(r,5224))},5224:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(7437),s=r(2265),a=r(1396),c=r.n(a),i=r(575),o=r(5671),u=r(3277),l=r(3067),d=r(9883),h=r(1827),f=r(2482),m=r(9670),x=r(4921);function p(){let{transactions:e,isLoading:t,error:r,deleteTransaction:a}=function(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),[a,c]=(0,s.useState)(null),i=async()=>{try{n(!0),c(null);let e=await x.Z.getTransactions();e.success?t(e.data):c("Failed to fetch transactions")}catch(e){c(e instanceof Error?e.message:"An error occurred")}finally{n(!1)}},o=async e=>{try{c(null);let r=await x.Z.createTransaction(e);if(r.success)return t(e=>[...e,r.data]),{success:!0,data:r.data};return c("Failed to create transaction"),{success:!1,error:"Failed to create transaction"}}catch(t){let e=t instanceof Error?t.message:"An error occurred";return c(e),{success:!1,error:e}}},u=async(e,r)=>{try{c(null);let n=await x.Z.updateTransaction(e,r);if(n.success)return t(t=>t.map(t=>t.id===e?n.data:t)),{success:!0,data:n.data};return c("Failed to update transaction"),{success:!1,error:"Failed to update transaction"}}catch(t){let e=t instanceof Error?t.message:"An error occurred";return c(e),{success:!1,error:e}}},l=async e=>{try{if(c(null),(await x.Z.deleteTransaction(e)).success)return t(t=>t.filter(t=>t.id!==e)),{success:!0};return c("Failed to delete transaction"),{success:!1,error:"Failed to delete transaction"}}catch(t){let e=t instanceof Error?t.message:"An error occurred";return c(e),{success:!1,error:e}}};return(0,s.useEffect)(()=>{i()},[]),{transactions:e,isLoading:r,error:a,fetchTransactions:i,createTransaction:o,updateTransaction:u,deleteTransaction:l}}(),[p,y]=(0,s.useState)(""),g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),v=e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e)),j=e=>{switch(e){case"posted":return"bg-green-500";case"draft":return"bg-yellow-500";case"void":return"bg-red-500";default:return"bg-gray-500"}},b=e=>{switch(e){case"posted":return"Posted";case"draft":return"Draft";case"void":return"Void";default:return e}},N=e=>{switch(e){case"journal":return"Journal Entry";case"income":return"Income";case"expense":return"Expense";case"invoice":return"Invoice";case"payment":return"Payment";default:return e}},w=async e=>{if(window.confirm("Are you sure you want to delete this transaction?")){let t=await a(e);t.success||alert(t.error||"Failed to delete transaction")}},T=e.filter(e=>{var t;return e.transactionNumber.toLowerCase().includes(p.toLowerCase())||e.description.toLowerCase().includes(p.toLowerCase())||(null===(t=e.reference)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))});return r?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,n.jsx)("p",{className:"text-gray-600",children:r})]})})}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsxs)("div",{className:"container mx-auto px-4",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,n.jsx)(c(),{href:"/dashboard",children:(0,n.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,n.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"})]}),(0,n.jsx)("p",{className:"text-gray-600",children:"View and manage all accounting transactions"})]}),(0,n.jsx)(c(),{href:"/transactions/create",children:(0,n.jsxs)(i.z,{children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"New Transaction"]})})]})}),(0,n.jsx)(o.Zb,{className:"mb-6",children:(0,n.jsx)(o.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Search transactions...",value:p,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,n.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Filter"]})]})})}),(0,n.jsxs)(o.Zb,{children:[(0,n.jsxs)(o.Ol,{children:[(0,n.jsxs)(o.ll,{children:["All Transactions (",T.length,")"]}),(0,n.jsx)(o.SZ,{children:"Complete history of all accounting transactions"})]}),(0,n.jsx)(o.aY,{children:t?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading transactions..."})]}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Transaction #"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Date"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Description"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Reference"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Type"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Amount"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:T.map(e=>(0,n.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("p",{className:"font-medium text-gray-900",children:e.transactionNumber})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("p",{className:"text-gray-900",children:v(e.transactionDate)})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("p",{className:"text-gray-900",children:e.description})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("p",{className:"text-gray-600",children:e.reference||"-"})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)(u.C,{variant:"outline",children:N(e.type)})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("p",{className:"font-medium text-gray-900",children:g(e.totalAmount)})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)(u.C,{variant:"outline",children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(j(e.status))}),(0,n.jsx)("span",{children:b(e.status)})]})})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(c(),{href:"/transactions/".concat(e.id),children:(0,n.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,n.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),"View"]})}),"draft"===e.status&&(0,n.jsx)(c(),{href:"/transactions/".concat(e.id,"/edit"),children:(0,n.jsx)(i.z,{size:"sm",children:"Edit"})}),(0,n.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>w(e.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})})]},e.id))})]})})})]})]})})}},3277:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var n=r(7437);r(2265);var s=r(6061),a=r(2169);let c=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(c({variant:r}),t),...s})}},575:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var n=r(7437),s=r(2265),a=r(7256),c=r(6061),i=r(2169);let o=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:s,size:c,asChild:u=!1,...l}=e,d=u?a.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(o({variant:s,size:c,className:r})),ref:t,...l})});u.displayName="Button"},5671:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return c},aY:function(){return l},ll:function(){return o}});var n=r(7437),s=r(2265),a=r(2169);let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});c.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});u.displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});l.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},4921:function(e,t,r){"use strict";let n=r(2601).env.NEXT_PUBLIC_API_URL||"http://localhost:3000/api";class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseURL).concat(e),n={headers:{"Content-Type":"application/json",...t.headers},...t},s=localStorage.getItem("authToken");s&&(n.headers={...n.headers,Authorization:"Bearer ".concat(s)});try{let e=await fetch(r,n);if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.error||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){throw console.error("API Request Error:",e),e}}async get(e){return this.request(e)}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async login(e,t){return this.post("/auth/login",{email:e,password:t})}async register(e){return this.post("/auth/register",e)}async getTransactions(){return this.get("/transactions")}async createTransaction(e){return this.post("/transactions",e)}async updateTransaction(e,t){return this.put("/transactions/".concat(e),t)}async deleteTransaction(e){return this.delete("/transactions/".concat(e))}async getCustomers(){return this.get("/customers")}async createCustomer(e){return this.post("/customers",e)}async updateCustomer(e,t){return this.put("/customers/".concat(e),t)}async deleteCustomer(e){return this.delete("/customers/".concat(e))}async getAccounts(){return this.get("/chart-of-accounts")}async createAccount(e){return this.post("/chart-of-accounts",e)}async updateAccount(e,t){return this.put("/chart-of-accounts/".concat(e),t)}async deleteAccount(e){return this.delete("/chart-of-accounts/".concat(e))}async getInvoices(){return this.get("/invoices")}async createInvoice(e){return this.post("/invoices",e)}async updateInvoice(e,t){return this.put("/invoices/".concat(e),t)}async deleteInvoice(e){return this.delete("/invoices/".concat(e))}async uploadBulkData(e,t){return this.post("/bulk-upload/".concat(e),{data:t})}async getTrialBalance(e){return this.get("/financial-statements/trial-balance".concat(e?"?period=".concat(e):""))}async getProfitLoss(e){return this.get("/financial-statements/profit-loss".concat(e?"?period=".concat(e):""))}async getReports(){return this.get("/reports")}async getBudgets(){return this.get("/budgeting")}async createBudget(e){return this.post("/budgeting",e)}async getInventory(){return this.get("/inventory")}async createInventoryItem(e){return this.post("/inventory/items",e)}async getBankAccounts(){return this.get("/bank/accounts")}async createBankAccount(e){return this.post("/bank/accounts",e)}async getTaxJurisdictions(){return this.get("/tax/jurisdictions")}async createTaxJurisdiction(e){return this.post("/tax/jurisdictions",e)}async getFixedAssets(){return this.get("/fixed-assets/assets")}async createFixedAsset(e){return this.post("/fixed-assets/assets",e)}async seedDatabase(){return this.post("/seed")}constructor(e=n){this.baseURL=e}}let a=new s;t.Z=a},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(7042),s=r(4769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},8960:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function a(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(e){r=c}}();var o=[],u=!1,l=-1;function d(){u&&n&&(u=!1,n.length?o=n.concat(o):l=-1,o.length&&h())}function h(){if(!u){var e=i(d);u=!0;for(var t=o.length;t;){for(n=o,o=[];++l<t;)n&&n[l].run();l=-1,t=o.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new f(e,t)),1!==o.length||u||i(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}},c=!0;try{t[e](a,a.exports,n),c=!1}finally{c&&delete r[e]}return a.exports}n.ab="//";var s=n(229);e.exports=s}()},1396:function(e,t,r){e.exports=r(5250)}},function(e){e.O(0,[621,250,971,938,744],function(){return e(e.s=3178)}),_N_E=e.O()}]);