(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[784],{3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5817:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1541:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2921:function(e,t,s){Promise.resolve().then(s.bind(s,7661))},7661:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=s(7437),n=s(2265),a=s(4033),i=s(1396),l=s.n(i),c=s(575),d=s(5671),o=s(3277),u=s(9497),x=s(3008),m=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,m.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h=(0,m.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var p=s(3067),y=s(1541),g=s(5817),j=s(9670),v=s(6245);function b(){let e=(0,a.useRouter)(),t=(0,n.useRef)(null),[s,i]=(0,n.useState)("transactions"),[m,b]=(0,n.useState)([]),[N,w]=(0,n.useState)(!1),[k,C]=(0,n.useState)(!1),Z=e=>{let t=e.split("\n").filter(e=>e.trim()),s=t[0].split(",").map(e=>e.trim()),r=[];for(let e=1;e<t.length;e++){let n=t[e].split(",").map(e=>e.trim());if(n.length>=s.length){let t={row:e,transactionDate:n[0]||"",description:n[1]||"",reference:n[2]||"",accountCode:n[3]||"",debitAmount:parseFloat(n[4])||0,creditAmount:parseFloat(n[5])||0,status:"pending"},s=A(t);t.status=s.length>0?"error":"valid",t.errors=s,r.push(t)}}b(r)},A=e=>{let t=[];return e.transactionDate||t.push("Transaction date is required"),e.description||t.push("Description is required"),e.accountCode||t.push("Account code is required"),e.debitAmount<=0&&e.creditAmount<=0&&t.push("Either debit or credit amount must be greater than 0"),e.debitAmount>0&&e.creditAmount>0&&t.push("Cannot have both debit and credit amounts"),t},R=async()=>{w(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=m.map(e=>"valid"===e.status?{...e,status:"valid"}:e);b(e)}catch(e){console.error("Processing error:",e)}finally{w(!1)}},S=async()=>{C(!0);try{let t=m.filter(e=>"valid"===e.status);await new Promise(e=>setTimeout(e,2e3)),alert("Successfully uploaded ".concat(t.length," items!")),e.push("/transactions")}catch(e){console.error("Upload error:",e),alert("Failed to upload data")}finally{C(!1)}},z=e=>{switch(e){case"valid":return(0,r.jsx)(x.Z,{className:"h-4 w-4 text-green-600"});case"error":return(0,r.jsx)(f,{className:"h-4 w-4 text-red-600"});default:return(0,r.jsx)(h,{className:"h-4 w-4 text-yellow-600"})}},D=e=>{switch(e){case"valid":return(0,r.jsx)(o.C,{className:"bg-green-100 text-green-800",children:"Valid"});case"error":return(0,r.jsx)(o.C,{className:"bg-red-100 text-red-800",children:"Error"});default:return(0,r.jsx)(o.C,{className:"bg-yellow-100 text-yellow-800",children:"Pending"})}},P=m.filter(e=>"valid"===e.status).length,V=m.filter(e=>"error"===e.status).length,U=m.filter(e=>"pending"===e.status).length;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)(l(),{href:"/dashboard",children:(0,r.jsxs)(c.z,{variant:"outline",size:"sm",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Upload"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Upload multiple transactions, customers, or accounts at once using CSV files"})]}),(0,r.jsxs)(u.mQ,{value:s,onValueChange:e=>i(e),className:"space-y-6",children:[(0,r.jsxs)(u.dr,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)(u.SP,{value:"transactions",children:"Transactions"}),(0,r.jsx)(u.SP,{value:"customers",children:"Customers"}),(0,r.jsx)(u.SP,{value:"accounts",children:"Accounts"})]}),(0,r.jsxs)(u.nU,{value:s,className:"space-y-6",children:[(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(y.Z,{className:"h-5 w-5"}),"Upload CSV File"]}),(0,r.jsxs)(d.SZ,{children:["Upload a CSV file to bulk import ",s]})]}),(0,r.jsx)(d.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("input",{ref:t,type:"file",accept:".csv",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;let r=new FileReader;r.onload=e=>{var t;Z(null===(t=e.target)||void 0===t?void 0:t.result)},r.readAsText(s)},className:"hidden"}),(0,r.jsxs)(c.z,{onClick:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.click()},variant:"outline",children:[(0,r.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Choose CSV File"]}),(0,r.jsxs)(c.z,{variant:"outline",onClick:()=>{let e="";"transactions"===s?e="Transaction Date,Description,Reference,Account Code,Debit Amount,Credit Amount\n2024-01-15,Office Rent Payment,RENT001,5200,,1000\n2024-01-20,Client Payment,PAY001,1000,5000,\n2024-01-25,Software Subscription,SUB001,5300,,99\n":"customers"===s?e='Name,Email,Phone,Address,Credit Limit,Payment Terms\nABC Corporation,billing@abccorp.com,+1-555-0101,"123 Business Ave, Suite 100",5000,Net 30\nXYZ Industries,accounts@xyzindustries.com,+1-555-0102,"456 Industrial Blvd",2500,Net 15\n':"accounts"===s&&(e='Code,Name,Type,Description,Parent Code,Opening Balance\n1000,Cash and Cash Equivalents,Asset,"Petty cash, checking accounts",,25000\n1100,Accounts Receivable,Asset,"Money owed by customers",,15000\n');let t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="".concat(s,"-template.csv"),n.click(),window.URL.revokeObjectURL(r)},children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Download Template"]})]}),m.length>0&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(d.Zb,{className:"bg-green-50 border-green-200",children:(0,r.jsx)(d.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-800 font-medium",children:"Valid"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-900",children:P})]}),(0,r.jsx)(x.Z,{className:"h-8 w-8 text-green-600"})]})})}),(0,r.jsx)(d.Zb,{className:"bg-red-50 border-red-200",children:(0,r.jsx)(d.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-800 font-medium",children:"Errors"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-red-900",children:V})]}),(0,r.jsx)(f,{className:"h-8 w-8 text-red-600"})]})})}),(0,r.jsx)(d.Zb,{className:"bg-yellow-50 border-yellow-200",children:(0,r.jsx)(d.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-yellow-800 font-medium",children:"Pending"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:U})]}),(0,r.jsx)(h,{className:"h-8 w-8 text-yellow-600"})]})})})]})]})})]}),m.length>0&&(0,r.jsxs)(d.Zb,{children:[(0,r.jsx)(d.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(d.ll,{children:"Data Preview"}),(0,r.jsx)(d.SZ,{children:"Review and validate your data before uploading"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[U>0&&(0,r.jsxs)(c.z,{onClick:R,disabled:N,variant:"outline",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),N?"Processing...":"Validate Data"]}),P>0&&(0,r.jsxs)(c.z,{onClick:S,disabled:k||0===P,children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),k?"Uploading...":"Upload ".concat(P," Items")]})]})]})}),(0,r.jsx)(d.aY,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Row"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Date"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Description"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Reference"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Account"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Debit"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Credit"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"})]})}),(0,r.jsx)("tbody",{children:m.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-gray-900",children:e.row}),z(e.status)]})}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.transactionDate}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.description}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.reference}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.accountCode}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.debitAmount>0?"$".concat(e.debitAmount.toFixed(2)):"-"}),(0,r.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.creditAmount>0?"$".concat(e.creditAmount.toFixed(2)):"-"}),(0,r.jsxs)("td",{className:"py-3 px-4",children:[D(e.status),e.errors&&e.errors.length>0&&(0,r.jsx)("div",{className:"mt-1",children:e.errors.map((e,t)=>(0,r.jsx)("p",{className:"text-xs text-red-600",children:e},t))})]})]},e.row))})]})})})]}),(0,r.jsxs)(d.Zb,{children:[(0,r.jsx)(d.Ol,{children:(0,r.jsx)(d.ll,{children:"Instructions"})}),(0,r.jsx)(d.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"How to use bulk upload:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"Download the CSV template for your data type"}),(0,r.jsx)("li",{children:"Fill in your data following the template format"}),(0,r.jsx)("li",{children:"Upload your completed CSV file"}),(0,r.jsx)("li",{children:"Review validation results and fix any errors"}),(0,r.jsx)("li",{children:"Click upload to import valid data"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Important notes:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"Ensure account codes exist in your chart of accounts"}),(0,r.jsx)("li",{children:"Transaction dates must be in YYYY-MM-DD format"}),(0,r.jsx)("li",{children:"Each row must have either a debit or credit amount, not both"}),(0,r.jsx)("li",{children:"Required fields must not be empty"}),(0,r.jsx)("li",{children:"Review validation errors before uploading"})]})]})]})})]})]})]})]})})}},3277:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437);s(2265);var n=s(6061),a=s(2169);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:s}),t),...n})}},575:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(7437),n=s(2265),a=s(7256),i=s(6061),l=s(2169);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:d=!1,...o}=e,u=d?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:n,size:i,className:s})),ref:t,...o})});d.displayName="Button"},5671:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var r=s(7437),n=s(2265),a=s(2169);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},9497:function(e,t,s){"use strict";s.d(t,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var r=s(7437),n=s(2265),a=s(3053),i=s(2169);let l=a.fC,c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});c.displayName=a.aV.displayName;let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});d.displayName=a.xz.displayName;let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});o.displayName=a.VY.displayName},2169:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(7042),n=s(4769);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}},1396:function(e,t,s){e.exports=s(5250)},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[621,250,260,971,938,744],function(){return e(e.s=2921)}),_N_E=e.O()}]);